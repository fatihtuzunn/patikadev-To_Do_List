<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />
  <title>Yapılacaklar Listesi</title>
</head>

<body>
  <!-- BOOTSTRAP TOAST -->

  <!--   <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2000"
    style="position: absolute; top: 1rem; right: 1rem;">
    <div class="toast-header">

      <strong class="mr-auto">Bootstrap</strong>
      <small>11 mins ago</small>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="toast-body">
      Hello, world! This is a toast message.
    </div>
  </div> -->

  <div class="mr-1" style="position: relative">
    <div style="position: absolute; top: 0; right: 0">
      <div id="liveToast1" class="toast success hide" role="alert" aria-live="assertive" aria-atomic="true"
        data-delay="4000">
        <div>
          <button type="button" class="close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body">Listeye eklendi.</div>
      </div>
    </div>
  </div>
  <div class="mr-1" style="position: relative">
    <div style="position: absolute; top: 0; right: 0">
      <div id="liveToast2" class="toast error hide" role="alert" aria-live="assertive" aria-atomic="true"
        data-delay="4000">
        <div>
          <button type="button" class="close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body">Listeye boş ekleme yapamazsınız!</div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="header">
      <img src="https://cdn.sanity.io/images/9kdepi1d/production/65c832d202a503b15d99e628f4313782f3ef50db-300x62.png"
        class="mb-1" alt="" />
      <h2>Yapılacaklar Listesi</h2>
      <input type="text" id="task" placeholder="Bugün ne yapacaksın?" />
      <span onclick="newElement()" id="liveToastBtn" class="button">Ekle</span>
    </div>
    <!-- BOOTSTRAP TOAST fINISH-->
    <ul id="list">
      <li>3 Litre Su İç</li>
      <li>Ödevleri Yap</li>
      <li>En Az 3 Saat Kodlama Yap</li>
      <li>Yemek Yap</li>
      <li>50 Sayfa Kitap Oku</li>
      <!-- <button class="btn btn-primary" id="b1" type="submit"></button> -->
    </ul>
    <br><br>

    <!-- <button id="showToast" class="btn btn-primary btn-lg w-25 mx-auto">Show Toast</button> -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous">


      </script>
    <script>
      /* const toast = document.querySelector(`.toast`);
      toast. */
      /* const b1 = document.getElementById(`b1`);
 const toast = document.querySelector(`.toast`);
 
 b1.click(()=>{$('.toast').toast('show')}); */
      $(document).ready(function () {

        $("#showToast").click(function () {
          $('#liveToast1').toast('show');
        });

      });

      const buton = document.getElementById("liveToastBtn");
      const task = document.getElementById("task");
      const ul = document.querySelector("ul");
      
      //burası çok önemli !!!!!
      var taskArr = localStorage.getItem('task') ? JSON.parse(localStorage.getItem('task')) : [];


      
      /* buton.addEventListener("click", ()=>{
        console.log(task.value);


      }) */

      function makeLi(write) {
        var li = document.createElement("li");
        ul.appendChild(li);
        var text = document.createTextNode(write);
        li.appendChild(text);
      }

      function newElement() {
        taskArr.push(task.value);
        console.log(taskArr);
        localStorage.setItem("task", JSON.stringify(taskArr));

          var taskArrLast= JSON.parse(localStorage.getItem("task"));

         for (let i = 0; i < taskArrLast.length; i++) {
           var element = taskArrLast[i];
           
         }
         makeLi(element); 
      }

      addEventListener("load", () => {
        var taskArrLast = JSON.parse(localStorage.getItem("task"));

        for (let i = 0; i < taskArrLast.length; i++) {
          var element = taskArrLast[i];
makeLi(element);
        }
        



      })
    </script>
  </div>
</body>

</html>